<!doctype html>
<html lang="es"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Procesos por Rol — Desarrollo (Backend)</title>
<style>
body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; line-height:1.6; margin:2rem; max-width:960px; }
pre { background:#0f172a; color:#e2e8f0; padding:1rem; border-radius:8px; overflow:auto; }
code { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
h1, h2 { color:#0b3d5c; }
ul { padding-left:1.1rem; }
</style></head><body>
<h1>Vista de Procesos por Rol · SkyTrack AI — Desarrollo (Backend)</h1>
<p><strong>Fecha:</strong> ** 2025-08-23</p>
<p><strong>Rol:</strong> ** Desarrollo / Backend</p>
<p><strong>Objetivo:</strong> ** Entender el **orden exacto** de llamadas y respuestas.</p>

<h2>Diagrama de secuencia (limpio)</h2>
<pre><code>
sequenceDiagram
  hide footbox
  autonumber
  participant C as Client
  participant G as API Gateway
  participant O as OrderService
  participant D as Postgres

  C-&gt;&gt;G: POST /supply-orders (payload)
  G-&gt;&gt;O: validar + delegar
  O-&gt;&gt;D: insertar SupplyOrder, items
  D--&gt;&gt;O: id
  O--&gt;&gt;G: 201 { id }
  G--&gt;&gt;C: 201 Created
</code></pre>
<h2>Puntos de revisión</h2>
<ul>
<li>Validaciones en gateway vs. dominio (qué va en cada capa).</li>
<li>Idempotencia (si aplica) y manejo de errores.</li>
<li>Contratos de entrada/salida (payloads).</li>
</ul>
</body></html>